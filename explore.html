<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Global Terrorism </title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>

    <header id="header"></header>
     
    <div class="content">
        <h1 class="title"> Explore terrorism events throughout history </h1>
            
        <div class="cont">
            <form class="form" id="searchResults">
                <div class="group">
                    <label for="region" class="lable">Region:</label>
                    <input class="input" type="name" id="region" name="region">                    
                </div>

                <div class="group">
                    <label for="country" class="lable">Country:</label>
                    <input class="input" type="name" id="country" name="country">                    
                </div>

                <div class="group">
                    <label for="state" class="lable">State:</label>
                    <input class="input" type="name" id="state" name="state">                    
                </div>

                <div class="group">
                    <label for="email" class="lable">City:</label>
                    <input class="input" id="city" name="city">                    
                </div>

                <button type="submit" class="submit-button">Search results</button>
            </form>
        </div>
    </div>

    <script src="verif_header.js"></script>
    <script>
        document.getElementById('searchResults').addEventListener('submit', async function(event) {
            event.preventDefault();

            const region = document.getElementById('region').value;
            const country = document.getElementById('country').value;
            const state = document.getElementById('state').value;
            const city = document.getElementById('city').value;

            try {
                if (city.trim().length !== 0){
                    const entityType = 'city';
                    let entityName = city;
                    window.location.href = `city_result.html?type=${entityType}&name=${entityName}`;
                }
                else if (state.trim().length !== 0){
                    const entityType = 'state';
                    let entityName = state;
                    window.location.href = `provestate_result.html?type=${entityType}&name=${entityName}`;
                }
                else if (country.trim().length !== 0){
                    const entityType = 'country';
                    let entityName = country;
                    window.location.href = `country_result.html?type=${entityType}&name=${entityName}`;
                }
                else if (region.trim().length !== 0){
                    const entityType = 'region';
                    let entityName = region;
                    window.location.href = `reg_result.html?type=${entityType}&name=${entityName}`;
                } 
        } catch (error) {
            console.error('Error:', error);
        }
            });
    </script>
 </body>
</html> 